---
title: 新手指南
description: Unnamed UI 新手指南
---

欢迎使用 **Unnamed UI**。本指南旨在帮助您快速搭建开发环境，并通过“搭建题目 (Proposal)”这一典型研发场景，熟悉核心组件的使用。

## 目录

1. [环境准备与安装](#1-环境准备与安装)
2. [实战演练：搭建 Proposal 页面](#2-实战演练搭建-proposal-页面)
3. [核心功能：对话与流式输出](#3-核心功能对话与流式输出)

---

## 1. 环境准备与安装

在开始之前，请确保您的开发环境满足基础要求：

- **Node.js**: 18 或更高版本
- **pnpm**（推荐）或 npm / yarn

### 1.1 推荐：使用 Unnamed UI 脚手架（最快）

我们提供了开箱即用的 [Vite 脚手架](https://github.com/fancn21th/unnamed-ui-starter-template)，已预配置 Tailwind、PostCSS、shadcn 及 Unnamed UI 样式，省去繁琐的手动配置。

**第一步：克隆并安装**

```bash
git clone https://github.com/fancn21th/unnamed-ui-starter-template.git unnamed-demo
cd unnamed-demo
pnpm install
```

**第二步：安装 Welcome 组件（用于验证）**

```bash
npx shadcn@latest add https://unnamed-ui.vercel.app/r/wuhan/welcome.json
```

**第三步：验证**

在 `src/App.tsx` 中引入 Welcome 组件：

```tsx
import { WelcomeMessage } from "@/components/wuhan/composed/welcome";
import { Sparkles } from "lucide-react";

export default function App() {
  return (
    <div className="p-4">
      <WelcomeMessage
        icon={<Sparkles className="w-6 h-6" />}
        text="Hello Unnamed UI"
      />
    </div>
  );
}
```

运行 `pnpm dev`，若页面正常显示，说明环境已就绪。

---

### 1.2 可选：从零开始手动配置

若需在现有项目或非 Vite 环境中集成，可参考以下步骤（已通过多轮验证）。

> 若无现有项目，可先创建 Vite 项目：`npm create vite@latest 项目名 -- --template react-ts`，然后 `cd 项目名 && npm install`。

**第一步：安装依赖**

```bash
npm install -D tailwindcss @tailwindcss/postcss postcss tw-animate-css
```

在项目根目录创建 `postcss.config.mjs`：

```js
export default {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};
```

**第二步：添加 Tailwind 导入**

在 `src/index.css`（Vite）或 `app/globals.css`（Next.js）**最顶部**添加：

```css
@import "tailwindcss";
@import "tw-animate-css";
```

> Tailwind v4 采用 CSS-first 配置，无需 `tailwind.config.js`；若项目已有该文件可保留，shadcn 会读取。

**第三步：配置 `@/*` 路径别名**

shadcn 会将组件安装到 `src/components/`，路径别名需与之对应。

在根目录 `tsconfig.json` 的 `compilerOptions` 中添加（Vite 默认使用 project references，根 `tsconfig.json` 可能仅有 `references`，此时需新增 `compilerOptions` 块，否则 shadcn init 会报错）：

```json
"baseUrl": ".",
"paths": {
  "@/*": ["./src/*"],
  "@/components/*": ["./src/components/*"]
}
```

若使用 project references，在 `tsconfig.app.json` 的 `compilerOptions` 中同样添加上述 `baseUrl` 和 `paths`。

若使用 Vite，还需在 `vite.config.ts` 中配置 `resolve.alias`：

```ts
import path from "path";

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
      "@/components": path.resolve(__dirname, "./src/components"),
    },
  },
});
```

**第四步：初始化 shadcn 并安装样式**

先创建 `components.json`（脚本/CI 场景必需；交互式场景下，首次 `add` 时选择 yes 创建亦可）：

```bash
npx shadcn@latest init --yes --src-dir --base-color neutral --no-base-style
```

再安装 Unnamed UI 样式：

```bash
npx shadcn@latest add https://unnamed-ui.vercel.app/r/wuhan/style.json -y -o
```

样式安装后，在 `src/index.css`（或 `app/globals.css`）顶部追加引入：

```css
@import "./components/globals.css";
```

> `globals.css` 会安装到 `src/components/`，故从 `src/index.css` 用 `@import "./components/globals.css"` 引用。若 style 安装时生成了 `src/postcss.config.mjs`，可删除，PostCSS 使用根目录配置即可。

**第五步：安装 Welcome 组件（用于验证）**

```bash
npx shadcn@latest add https://unnamed-ui.vercel.app/r/wuhan/welcome.json -y -o
```

**注意事项与常见问题**

- **init 报错 "No import alias found"**：在根 `tsconfig.json` 中补充 `compilerOptions.baseUrl` 和 `paths`。
- **add 卡在 components.json 提示**：先执行 `shadcn init`，脚本/CI 场景下 `add -y` 无法跳过该提示。
- **布局未占满视口**：在 `index.css` 中添加 `html, body, #root { height: 100%; }`。
- **构建时 @keyframes 警告**：来自 globals.css，可忽略，不影响构建。
- 使用 pnpm 时，将 `npm install` 替换为 `pnpm add`。

---

## 2. 实战演练：搭建 Proposal 页面

本节将按照**“如何搭建题目”**的研发步骤，逐步讲解如何使用 Unnamed UI 完成开发。

### 步骤 1: Proposal 准备与 UWS 布局

**目标**：查看设计稿，完成统一工作台（UWS）的基础框架搭建。

**布局组件**：使用 `TripleSplitPane` 或 `SidebarComposed` 进行左右分栏布局。**顶部导航**：使用 `PageHeader` 展示题目信息。

**安装所需组件**（在项目根目录执行）：

```bash
npx shadcn@latest add https://unnamed-ui.vercel.app/r/wuhan/page-header.json
npx shadcn@latest add https://unnamed-ui.vercel.app/r/wuhan/triple-split-pane.json
```

**示例代码**（导入路径以 `components.json` 为准）：

```tsx
import { TripleSplitPane } from "@/components/wuhan/composed/triple-split-pane";
import {
  PageHeader,
  PageHeaderUser,
} from "@/components/wuhan/composed/page-header";

export default function ProposalPage() {
  return (
    <div className="h-full p-3 flex flex-col gap-3 overflow-hidden bg-[var(--bg-neutral-light)]">
      <PageHeader
        logo={
          <div className="flex items-center justify-center w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg">
            <span className="text-white font-bold text-xs">AI</span>
          </div>
        }
        title="Proposal: 新手引导设计"
        actions={
          <>
            <PageHeaderUser
              name="User"
              avatarSrc="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=100&h=100&fit=crop"
            />
          </>
        }
      />
      <TripleSplitPane
        className="w-full flex-1 overflow-hidden"
        left={{
          title: "数据来源",
          width: "240px",
          collapsedWidth: "0px",
          minWidth: "240px",
          children: <div>数据来源</div>,
          classNames: { body: "px-2 py-4" },
        }}
        leftPopover={{
          enabled: true,
          width: "240px",
          height: "520px",
          className: "px-2! py-4!",
          content: <div>数据来源</div>,
        }}
        center={{
          title: "对话",
          minWidth: "280px",
          children: <div>对话</div>,
        }}
        right={{
          title: "UWS",
          width: "360px",
          collapsedWidth: "48px",
          minWidth: "360px",
          children: <div>工作空间</div>,
          classNames: { body: "p-4" },
        }}
      />
    </div>
  );
}
```

> 右侧 UWS 区域可替换为 `SourcesSidebar` 等组件，详见 [Sources Sidebar](/docs/blocks/layout/sources-sidebar) 文档。

---

## 3. 核心功能：对话与流式输出

**目标**：实现消息问答交互，支持 AI 消息的**流式输出**。

在对话区域中，我们将集成多种类型的 AI 响应能力。以下组件需先通过 `npx shadcn@latest add https://unnamed-ui.vercel.app/r/wuhan/<组件名>.json` 安装，详见各组件文档。

### 3.1 基础布局与输入

使用 `Sender` 或 `Sender Responsive` 作为用户输入组件，`AIMessage` / `UserMessage` 作为消息气泡容器。

### 3.2 消息问答类型实现

所有 AI 消息组件需支持 `streaming` 状态。以下是各类型问答的推荐组件方案：

#### A. 基本文本消息 (Basic Text)

使用 `AIMessage` 组件渲染 Markdown 内容，`status` 为 `generating` 时表示流式输出中。

```tsx
import { AIMessage } from "@/components/wuhan/composed/message";

<AIMessage status={isStreaming ? "generating" : "idle"}>
  {streamingContent}
</AIMessage>
```

#### B. 工具调用问答 (Tool Calling)

当 AI 需要调用外部工具时，使用 `Agent Card` 或 `Execution Result` 展示调用过程和结果。

- **组件推荐**: `Agent Card`, `Execution Result`
- **场景**: 展示 "Searching database..." 或 "Calculator used"。

#### C. 深度思考问答 (Deep Thinking)

针对推理模型（如 o1/r1），使用 `DeepThinking` 组件包裹思考内容，支持折叠与展开。注意组件名为 `DeepThinking`（无空格），prop 为 `status`（非 `state`）。

```tsx
import { DeepThinking } from "@/components/wuhan/composed/deep-thinking";
import { AIMessage } from "@/components/wuhan/composed/message";

<DeepThinking status={isThinking ? "thinking" : "completed"} content={thoughtProcessContent} />
<AIMessage>{finalAnswer}</AIMessage>
```

#### D. 思维链问答 (Chain of Thought)

如果需要展示详细的步骤拆解，使用 `Thinking Process` 和 `Thinking Step Item`。

- **组件推荐**: `Thinking Process`, `Thinking Step Item`
- **功能**: 将复杂的流式输出拆解为 Checkpoints（检查点），让用户感知 AI 的每一步逻辑。

#### E. HITL 问答 (Human in the Loop)

当 AI 需要用户确认才能继续时，插入交互卡片。

- **组件推荐**: `Confirm Panel`, `Quick Action`, `Select Card`
- **场景**: "检测到多个冲突文件，请选择保留哪一个？"

---

## 4. UWS 组件 (UWS Components)

在右侧或辅助区域，利用业务组件增强 Proposal 的信息密度。以下组件需先通过 `npx shadcn@latest add https://unnamed-ui.vercel.app/r/wuhan/<组件名>.json` 安装：

- **折叠内容**: 使用 `Accordion`（`block-accordion.json`）收纳长文档。
- **任务管理**: 使用 `Task Card`（`task-card.json`）或 `Task List`（`task-list.json`）展示关联任务。
- **引用来源**: 使用 `Custom Sources`（`custom-sources.json`）或 `File Card`（`file-card.json`）展示 AI 回答的参考资料。
- **反馈机制**: 在消息底部添加 `Feedback`（`feedback.json`）组件收集用户评价。

---

### 研发小贴士

- **边搭建边更新**: 建议在开发 `Proposal` 页面时，随时将复用的模式（Pattern）更新回本文档或 Storybook。
- **流式兼容**: 确保本 registry 中的 Chat 类组件都能优雅处理 `undefined` 或部分数据块（Chunk），以防止流式传输时的页面抖动。
